---
// Library imports
import { Icon } from 'astro-icon/components';

// Component imports
import Link from './Link.astro';
// import FooterMobileAccordion from './accordions/FooterMobileAccordion.astro';

// Data imports
import socialData from '../../data/socialData';
import footerCopyrightData from '../../data/footerCopyrightData';
import footerData from '../../data/footerData';


const {
  header1 = "",
  header2 = "",
  header3 = "",
  header4 = "",
} = Astro.props;

// Divide footerData into four equal parts
const quarter = Math.ceil(footerData.length / 4);
const footerData1 = footerData.slice(0, quarter);
const footerData2 = footerData.slice(quarter, quarter * 2);
const footerData3 = footerData.slice(quarter * 2, quarter * 3);
const footerData4 = footerData.slice(quarter * 3);
---

    <footer class="mb-16">

      <div class="footer-grid flex">
        <!-- <FooterMobileAccordion
          header1={header1} 
          header2={header2} 
          header3={header3} 
          header4={header4} 
        /> -->

        <div class="footer-text-block flex flex-wrap flex-col sm:flex-row gap-2 sm:gap-4 w-full justify-between items-center">
          <div>
            <h3 class="footer-link-header">{header1}</h3>

            <ul class="flex flex-col gap-2 items-center sm:items-start">
              {
                footerData1.map((item) => (
                  <li>
                    <Link
                      text={item.name}
                      href={item.path}
                      target={item.target}
                      {...(item.icon ? { icon: item.icon } : {})}
                      style="footer-link"
                      data-navLink
                    />
                  </li>
                ))
              }
            </ul>
          </div>
          <div>
            <h3 class="footer-link-header">{header2}</h3>
            <ul class="flex flex-col gap-2 items-center sm:items-start">
              {
                footerData2.map((item) => (
                  <li>
                    <Link
                      text={item.name}
                      href={item.path}
                      target={item.target}
                      icon={item.icon}
                      style="footer-link"
                      data-navLink
                    />
                  </li>
                ))
              }
            </ul>
          </div>
          <div>
            <h3 class="footer-link-header">{header3}</h3>
            <ul class="flex flex-col gap-2 items-center sm:items-start">
              {
                footerData3.map((item) => (
                  <li>
                    <Link
                      text={item.name}
                      href={item.path}
                      target={item.target}
                      icon={item.icon}
                      style="footer-link"
                      data-navLink
                    />
                  </li>
                ))
              }
            </ul>
          </div>
          <div>
            <h3 class="footer-link-header">{header4}</h3>
            <ul class="flex flex-col gap-2 items-center sm:items-start">
              {
                footerData4.map((item) => (
                  <li>
                    <Link
                      text={item.name}
                      href={item.path}
                      target={item.target}
                      icon={item.icon}
                      style="footer-link"
                      data-navLink
                    />
                  </li>
                ))
              }
            </ul>
          </div>
        </div>
      </div>

      <div class="footer-social__wrapper">
        <div class="footer-social flex">
          {
            socialData.map((item) => (
              <a href={item.path} target={item.target} aria-label={item.name}>
                <Icon name={item.icon} />
              </a>
            ))
          }
        </div>
      </div>
      <div class="copyright text-center">
        <p>Copyright &copy; <span id="copyright"></span> KUAA. All rights reserved.</p>
        <!-- <ul>
          {
          footerCopyrightData.map((item) => (
            <li>
              <Link
                text={item.name}
                href={item.path}
                target={item.target}
                icon={item.icon}
                style="footer-link"
                data-navLink
              />
            </li>
          ))
        }
        </ul> -->
      </div>
    </footer>
    
    <script is:inline>
      document.querySelector('#copyright').textContent = new Date()
        .getFullYear()
        .toString();
    </script>


    <!-- <script>
      import "../../js/components/accordion.js"
    </script> -->